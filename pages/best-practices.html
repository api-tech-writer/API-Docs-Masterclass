<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Best Practices - API Docs Masterclass</title>
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <h1>P API Documentation Best Practices</h1>
        <nav>
            <ul>
                <li><a href="../index.html"><ÔøΩ Home</a></li>
                <li><a href="reference.html">=ÔøΩ Reference</a></li>
                <li><a href="guides.html"><ÔøΩ Guides</a></li>
                <li><a href="concepts.html">üí° Concepts</a></li>
                <li><a href="best-practices.html">‚≠ê Best Practices</a></li>
                <li><a href="case-studies.html">üìä Case Studies</a></li>
                <li><a href="examples.html">=ÔøΩ Examples</a></li>
                <li><a href="https://github.com/api-tech-writer/API-Docs-Masterclass" target="_blank">= GitHub</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="hero">
            <h2>Industry-Leading Documentation Standards</h2>
            <p>Proven practices for creating world-class API documentation</p>
        </section>

        <!-- Documentation Style Guide -->
        <div class="card">
            <h3>=ÔøΩ Documentation Style Guide</h3>
            
            <h4>Writing Principles</h4>
            <table>
                <thead>
                    <tr>
                        <th>Principle</th>
                        <th>Do</th>
                        <th>Don't</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Clarity</strong></td>
                        <td>Use simple, direct language</td>
                        <td>Use jargon or complex terms</td>
                    </tr>
                    <tr>
                        <td><strong>Consistency</strong></td>
                        <td>Maintain uniform terminology</td>
                        <td>Switch between synonyms</td>
                    </tr>
                    <tr>
                        <td><strong>Completeness</strong></td>
                        <td>Include all parameters</td>
                        <td>Assume prior knowledge</td>
                    </tr>
                    <tr>
                        <td><strong>Accuracy</strong></td>
                        <td>Test every example</td>
                        <td>Copy untested code</td>
                    </tr>
                    <tr>
                        <td><strong>Actionability</strong></td>
                        <td>Provide next steps</td>
                        <td>Leave users guessing</td>
                    </tr>
                </tbody>
            </table>
            
            <h4>Voice and Tone</h4>
            <ul>
                <li><strong>Active voice:</strong> "The API returns..." not "Results are returned..."</li>
                <li><strong>Present tense:</strong> "This endpoint creates..." not "This endpoint will create..."</li>
                <li><strong>Second person:</strong> "You can..." not "Users can..."</li>
                <li><strong>Imperative mood:</strong> "Set the API key..." not "You should set..."</li>
            </ul>
            
            <h4>Formatting Standards</h4>
            <pre><code class="language-markdown"># Endpoint Name (H1)

Brief description of what the endpoint does.

## Request (H2)

### Parameters (H3)

| Name | Type | Required | Description |
|------|------|----------|-------------|
| `id` | string | Yes | Unique identifier |

### Headers (H3)

```http
Authorization: Bearer YOUR_API_KEY
Content-Type: application/json
```

## Response (H2)

### Success Response (H3)

```json
{
  "status": "success",
  "data": {}
}
```

### Error Responses (H3)

| Code | Description |
|------|-------------|
| 400 | Bad Request |
| 401 | Unauthorized |</code></pre>
        </div>

        <!-- API Design Principles -->
        <div class="card">
            <h3><ÔøΩ API Design Principles</h3>
            
            <h4>1. Resource Naming</h4>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                <div>
                    <h5 style="color: #00ff41;"> Good Examples</h5>
                    <pre><code class="language-http">GET /users
GET /users/123
GET /users/123/orders
POST /orders
PUT /orders/456</code></pre>
                </div>
                <div>
                    <h5 style="color: #ff4444;">L Bad Examples</h5>
                    <pre><code class="language-http">GET /getUsers
GET /user-list
GET /fetch_user_orders
POST /createNewOrder
PUT /update-order</code></pre>
                </div>
            </div>
            
            <h4>2. Consistent Response Structure</h4>
            <pre><code class="language-json">// Success Response
{
  "status": "success",
  "data": {
    "id": "123",
    "type": "user",
    "attributes": {
      "name": "John Doe",
      "email": "john@example.com"
    }
  },
  "meta": {
    "timestamp": "2025-01-01T12:00:00Z",
    "version": "1.0"
  }
}

// Error Response
{
  "status": "error",
  "error": {
    "code": "RESOURCE_NOT_FOUND",
    "message": "User not found",
    "details": {
      "id": "123"
    }
  },
  "meta": {
    "timestamp": "2025-01-01T12:00:00Z",
    "request_id": "req_abc123"
  }
}</code></pre>
            
            <h4>3. Filtering and Sorting</h4>
            <pre><code class="language-http"># Filtering
GET /users?status=active&role=admin

# Sorting
GET /users?sort=created_at&order=desc

# Field Selection
GET /users?fields=id,name,email

# Combining
GET /users?status=active&sort=name&fields=id,name</code></pre>
        </div>

        <!-- Security Best Practices -->
        <div class="card">
            <h3>= Security Best Practices</h3>
            
            <h4>Authentication & Authorization</h4>
            <ul>
                <li> Use HTTPS for all API communications</li>
                <li> Implement OAuth 2.0 for third-party access</li>
                <li> Use API keys for service-to-service communication</li>
                <li> Implement rate limiting per API key</li>
                <li> Rotate keys and tokens regularly</li>
                <li>L Never expose API keys in client-side code</li>
                <li>L Don't use basic authentication over HTTP</li>
                <li>L Avoid storing tokens in localStorage</li>
            </ul>
            
            <h4>Input Validation</h4>
            <pre><code class="language-python"># Comprehensive input validation
from marshmallow import Schema, fields, validate, ValidationError

class WeatherRequestSchema(Schema):
    city = fields.Str(required=True, validate=validate.Length(min=1, max=100))
    lat = fields.Float(validate=validate.Range(min=-90, max=90))
    lon = fields.Float(validate=validate.Range(min=-180, max=180))
    units = fields.Str(validate=validate.OneOf(['metric', 'imperial', 'kelvin']))
    
    @validates_schema
    def validate_location(self, data, **kwargs):
        if not data.get('city') and not (data.get('lat') and data.get('lon')):
            raise ValidationError('Either city or lat/lon required')</code></pre>
            
            <h4>Security Headers</h4>
            <pre><code class="language-http">HTTP/1.1 200 OK
X-Content-Type-Options: nosniff
X-Frame-Options: DENY
X-XSS-Protection: 1; mode=block
Strict-Transport-Security: max-age=31536000; includeSubDomains
Content-Security-Policy: default-src 'self'
X-RateLimit-Limit: 1000
X-RateLimit-Remaining: 999</code></pre>
        </div>

        <!-- Performance Optimization -->
        <div class="card">
            <h3>=ÔøΩ Performance Optimization</h3>
            
            <h4>Response Optimization</h4>
            <table>
                <thead>
                    <tr>
                        <th>Technique</th>
                        <th>Implementation</th>
                        <th>Impact</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Compression</td>
                        <td><code>Content-Encoding: gzip</code></td>
                        <td>60-80% size reduction</td>
                    </tr>
                    <tr>
                        <td>Field Filtering</td>
                        <td><code>?fields=id,name</code></td>
                        <td>Reduced payload size</td>
                    </tr>
                    <tr>
                        <td>Pagination</td>
                        <td><code>?limit=20&offset=0</code></td>
                        <td>Faster response times</td>
                    </tr>
                    <tr>
                        <td>Caching</td>
                        <td><code>Cache-Control: max-age=3600</code></td>
                        <td>Reduced server load</td>
                    </tr>
                    <tr>
                        <td>CDN</td>
                        <td>Edge locations</td>
                        <td>Lower latency globally</td>
                    </tr>
                </tbody>
            </table>
            
            <h4>Database Query Optimization</h4>
            <pre><code class="language-sql">-- Inefficient: N+1 query problem
SELECT * FROM users;
-- Then for each user:
SELECT * FROM orders WHERE user_id = ?;

-- Optimized: Single query with JOIN
SELECT u.*, o.*
FROM users u
LEFT JOIN orders o ON u.id = o.user_id
WHERE u.status = 'active'
LIMIT 20;</code></pre>
            
            <h4>Asynchronous Processing</h4>
            <pre><code class="language-javascript">// Return immediately, process async
app.post('/api/reports', async (req, res) => {
  // Validate request
  const { type, parameters } = req.body;
  
  // Create job and return immediately
  const jobId = await queue.add('generate-report', {
    type,
    parameters,
    userId: req.user.id
  });
  
  // Return 202 Accepted with job status URL
  res.status(202).json({
    status: 'accepted',
    jobId,
    statusUrl: `/api/jobs/${jobId}`
  });
});</code></pre>
        </div>

        <!-- Versioning Strategy -->
        <div class="card">
            <h3>=ÔøΩ API Versioning Strategy</h3>
            
            <h4>Version Lifecycle</h4>
            <div style="background: rgba(0, 255, 65, 0.1); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                <strong>Timeline:</strong> Preview (3 months) ÔøΩ Current (18 months) ÔøΩ Deprecated (6 months) ÔøΩ Sunset
            </div>
            
            <h4>Breaking vs Non-Breaking Changes</h4>
            <table>
                <thead>
                    <tr>
                        <th>Non-Breaking (Minor)</th>
                        <th>Breaking (Major)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td> Adding new endpoints</td>
                        <td>L Removing endpoints</td>
                    </tr>
                    <tr>
                        <td> Adding optional parameters</td>
                        <td>L Removing parameters</td>
                    </tr>
                    <tr>
                        <td> Adding response fields</td>
                        <td>L Changing field types</td>
                    </tr>
                    <tr>
                        <td> Adding enum values</td>
                        <td>L Renaming fields</td>
                    </tr>
                    <tr>
                        <td> Relaxing validation</td>
                        <td>L Tightening validation</td>
                    </tr>
                </tbody>
            </table>
            
            <h4>Migration Support</h4>
            <pre><code class="language-javascript">// Dual-version support during migration
class APIClient {
  constructor(version = 'v2') {
    this.version = version;
    this.endpoints = {
      v1: 'https://api.example.com/v1',
      v2: 'https://api.example.com/v2'
    };
  }
  
  async getWeather(city) {
    if (this.version === 'v1') {
      // V1 format
      const response = await fetch(`${this.endpoints.v1}/weather?q=${city}`);
      return this.transformV1Response(response);
    } else {
      // V2 format
      const response = await fetch(`${this.endpoints.v2}/weather/current?city=${city}`);
      return response.json();
    }
  }
}</code></pre>
        </div>

        <!-- Testing Documentation -->
        <div class="card">
            <h3>>ÔøΩ Testing Your Documentation</h3>
            
            <h4>Documentation Testing Checklist</h4>
            <ul style="line-height: 2;">
                <li> All code examples execute without errors</li>
                <li> API responses match documented schemas</li>
                <li> Authentication flows work as described</li>
                <li> Error codes and messages are accurate</li>
                <li> Rate limits match implementation</li>
                <li> Deprecated features are clearly marked</li>
                <li> Links and references are valid</li>
                <li> Search functionality returns relevant results</li>
            </ul>
            
            <h4>Automated Testing</h4>
            <pre><code class="language-python"># Automated documentation testing
import pytest
import requests
from openapi_spec_validator import validate_spec

def test_openapi_spec_validity():
    """Ensure OpenAPI spec is valid"""
    with open('specs/openapi.yaml') as f:
        spec = yaml.safe_load(f)
    validate_spec(spec)

def test_example_requests():
    """Test all documented examples"""
    examples = load_documentation_examples()
    
    for example in examples:
        response = requests.request(
            method=example['method'],
            url=example['url'],
            headers=example.get('headers', {}),
            json=example.get('body')
        )
        
        assert response.status_code == example['expected_status']
        validate_response_schema(response.json(), example['schema'])

def test_broken_links():
    """Check for broken links in documentation"""
    links = extract_all_links_from_docs()
    
    for link in links:
        response = requests.head(link, allow_redirects=True)
        assert response.status_code == 200, f"Broken link: {link}"</code></pre>
        </div>

        <!-- Documentation Metrics -->
        <div class="card">
            <h3>=ÔøΩ Documentation Success Metrics</h3>
            
            <h4>Key Performance Indicators</h4>
            <table>
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>Target</th>
                        <th>How to Measure</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Time to First API Call</td>
                        <td>&lt; 5 minutes</td>
                        <td>User analytics, surveys</td>
                    </tr>
                    <tr>
                        <td>Documentation Coverage</td>
                        <td>100%</td>
                        <td>Automated scanning</td>
                    </tr>
                    <tr>
                        <td>Support Ticket Reduction</td>
                        <td>-50%</td>
                        <td>Support system metrics</td>
                    </tr>
                    <tr>
                        <td>Developer Satisfaction</td>
                        <td>&gt; 4.5/5</td>
                        <td>NPS surveys</td>
                    </tr>
                    <tr>
                        <td>Search Success Rate</td>
                        <td>&gt; 80%</td>
                        <td>Search analytics</td>
                    </tr>
                    <tr>
                        <td>Code Example Accuracy</td>
                        <td>100%</td>
                        <td>Automated testing</td>
                    </tr>
                </tbody>
            </table>
            
            <h4>User Feedback Loop</h4>
            <pre><code class="language-html">&lt;!-- Feedback widget on every page --&gt;
&lt;div class="feedback-widget"&gt;
    &lt;h4&gt;Was this helpful?&lt;/h4&gt;
    &lt;button onclick="sendFeedback('yes')"&gt;=M Yes&lt;/button&gt;
    &lt;button onclick="sendFeedback('no')"&gt;=N No&lt;/button&gt;
    &lt;textarea id="feedback-details" placeholder="Tell us more..."&gt;&lt;/textarea&gt;
    &lt;button onclick="submitDetailedFeedback()"&gt;Submit&lt;/button&gt;
&lt;/div&gt;

&lt;script&gt;
function sendFeedback(rating) {
    analytics.track('Documentation Feedback', {
        page: window.location.pathname,
        rating: rating,
        timestamp: new Date()
    });
}
&lt;/script&gt;</code></pre>
        </div>

        <!-- Developer Experience -->
        <div class="card">
            <h3>=ÔøΩ Developer Experience (DX)</h3>
            
            <h4>Quick Wins for Better DX</h4>
            <ol>
                <li><strong>Interactive API Explorer:</strong> Let developers try requests in the browser</li>
                <li><strong>Copy Buttons:</strong> One-click copy for code examples</li>
                <li><strong>Language Switcher:</strong> Show examples in multiple languages</li>
                <li><strong>Dark Mode:</strong> Reduce eye strain for late-night coding</li>
                <li><strong>Search As You Type:</strong> Instant search results</li>
                <li><strong>Postman Collections:</strong> Downloadable, ready-to-use collections</li>
                <li><strong>SDK Generation:</strong> Auto-generated client libraries</li>
                <li><strong>Changelog RSS:</strong> Subscribe to API updates</li>
            </ol>
            
            <h4>Progressive Disclosure</h4>
            <pre><code class="language-html">&lt;!-- Start simple, reveal complexity --&gt;
&lt;div class="api-example"&gt;
    &lt;!-- Basic example (always visible) --&gt;
    &lt;div class="example-basic"&gt;
        &lt;h5&gt;Quick Start&lt;/h5&gt;
        &lt;pre&gt;&lt;code&gt;curl https://api.example.com/weather?city=London&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
    
    &lt;!-- Advanced options (collapsible) --&gt;
    &lt;details&gt;
        &lt;summary&gt;Advanced Options&lt;/summary&gt;
        &lt;pre&gt;&lt;code&gt;curl -X GET "https://api.example.com/weather" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Accept: application/json" \
  -H "X-Request-ID: unique-id" \
  -d '{
    "city": "London",
    "units": "metric",
    "include": ["hourly", "alerts"]
  }'&lt;/code&gt;&lt;/pre&gt;
    &lt;/details&gt;
&lt;/div&gt;</code></pre>
        </div>
    </main>

    <footer>
        <p>ÔøΩ 2025 API Docs Masterclass | <a href="../index.html">Home</a> | <a href="https://github.com/api-tech-writer/API-Docs-Masterclass" target="_blank">GitHub</a></p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/markdown.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/http.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/json.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/sql.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/html.min.js"></script>
    <script src="../js/scripts.js"></script>
</body>
</html>